<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>First Aid Academy - Modern Intro</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="css/intro.css">
</head>

<body>

    <div class="fixed-background-image"></div>

    <!-- ★ 로고 2개 (기본 + 화이트) -->
    <div class="fixed-logo">
        <img src="images/logo.png" class="logo-default" alt="로고">
        <img src="images/logo1.png" class="logo-white" alt="화이트 로고">
    </div>

    <div class="dot-nav">
        <div class="dot active" data-index="0"></div>
        <div class="dot" data-index="1"></div>
        <div class="dot" data-index="2"></div>
    </div>

    <div class="page-indicator">
        <span class="current-page">01</span>
        <div class="separator"></div>
        <span class="total-pages">03</span>
    </div>

    <!-- Slide1 -->
    <section class="slide-section active" id="slide1">
        <div class="left-content-area">
            <div class="content-box">
                <h1>A Healthier world with<br>advancing connected care</h1>
                <p>새로운 아이디어와 끊임없는 노력으로 진보된 HealthCare Solution을 제공합니다.</p>
                <a href="#" class="btn-more">ABOUT US</a>
            </div>
        </div>
    </section>

    <!-- Slide2 -->
    <section class="slide-section" id="slide2">
        <div class="full-screen-overlay"></div>
        <div class="left-content-area">
            <div class="content-box">
                <h1>Our Main Features</h1>
                <p>체계적인 온라인 교육부터 AI 기반의 맞춤형 시험까지, First Aid Academy의 핵심 기능들을 만나보세요.</p>
            </div>

            <div class="card-grid-container">
                <div class="feature-card">
                    <div class="icon-wrapper"><i class="fa-solid fa-laptop-medical"></i></div>
                    <h3>온라인 이론 교육</h3>
                </div>
                <div class="feature-card">
                    <div class="icon-wrapper"><i class="fa-solid fa-vr-cardboard"></i></div>
                    <h3>응급 시뮬레이션</h3>
                </div>
                <div class="feature-card">
                    <div class="icon-wrapper"><i class="fa-solid fa-certificate"></i></div>
                    <h3>이수증 자동 발급</h3>
                </div>
                <div class="feature-card">
                    <div class="icon-wrapper"><i class="fa-solid fa-robot"></i></div>
                    <h3>AI 기반 시험 문제 제출</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Slide3 -->
    <section class="slide-section" id="slide3">
        <div class="full-screen-overlay"></div>
        <div class="left-content-area">
            <div class="content-box slide_content">
                <h1>How to Use</h1>
                <p>회원가입부터 이수증 발급까지 단 4단계로 이용 가능합니다.</p>

                <div class="steps-container">

                    <!-- 4단계 반복 -->
                    <div class="step-unit">
                        <div class="step-img"><img src="images/exImg2.jpg" alt=""></div>
                        <div class="dot"></div>
                        <div class="desc-item">회원가입</div>
                    </div>

                    <div class="step-unit">
                        <div class="step-img"><img src="images/exImg2.jpg" alt=""></div>
                        <div class="dot"></div>
                        <div class="desc-item">교육 수강</div>
                    </div>

                    <div class="step-unit">
                        <div class="step-img"><img src="images/exImg2.jpg" alt=""></div>
                        <div class="dot"></div>
                        <div class="desc-item">시험 응시</div>
                    </div>

                    <div class="step-unit">
                        <div class="step-img"><img src="images/exImg2.jpg" alt=""></div>
                        <div class="dot"></div>
                        <div class="desc-item">이수증 발급</div>
                    </div>

                </div>

            </div>
        </div>
    </section>


    <script>
        const slides = document.querySelectorAll(".slide-section");
        const dots = document.querySelectorAll(".dot");
        const currentPageSpan = document.querySelector(".current-page");

        let current = 0;
        let isScrolling = false;
        const animationDuration = 1200;

        /* ★ 로고 업데이트 */
        function updateLogo() {
            const needWhite = (current === 1 || current === 2); // slide2, slide3은 어두움
            document.querySelector(".logo-default").style.display = needWhite ? "none" : "block";
            document.querySelector(".logo-white").style.display = needWhite ? "block" : "none";
        }

        function showSlide(index) {
            if (index < 0 || index >= slides.length || index === current) return;

            slides[current].classList.remove("active");
            dots[current].classList.remove("active");

            current = index;

            slides[current].classList.add("active");
            dots[current].classList.add("active");

            currentPageSpan.textContent = String(current + 1).padStart(2, '0');

            if (current === 2) {
                startStepAnimation();
            }


            updateLogo();  // ★ 로고 변경 실행
        }

        window.addEventListener("wheel", e => {
            if (isScrolling) return;
            isScrolling = true;

            if (e.deltaY > 0) showSlide(current + 1);
            else showSlide(current - 1);

            setTimeout(() => isScrolling = false, animationDuration);
        }, { passive: false });

        dots.forEach(dot => dot.addEventListener("click", () => {
            showSlide(parseInt(dot.dataset.index));
        }));

        window.addEventListener('keydown', e => {
            if (isScrolling) return;
            if (e.key === "ArrowDown") showSlide(current + 1);
            if (e.key === "ArrowUp") showSlide(current - 1);
        });

        /* ----------------------------------------------------------
   ★ Slide3 자동 강조 애니메이션 (step-unit 구조에 맞춰 완전 수정)
---------------------------------------------------------- */

        let stepIndex = 0;
        let stepInterval = null;

        const stepUnits = document.querySelectorAll("#slide3 .step-unit");

        function startStepAnimation() {

            // 기존 active 제거 (step-unit 기준)
            stepUnits.forEach(unit => {
                unit.querySelector(".step-img").classList.remove("active");
                unit.querySelector(".dot").classList.remove("active");
                unit.querySelector(".desc-item").classList.remove("active");
            });

            // 이미 인터벌 돌고 있으면 중복 방지
            if (stepInterval) clearInterval(stepInterval);

            // 첫 단계 강조
            activateStep(0);

            // 2초 간격으로 다음 단계 강조
            stepInterval = setInterval(() => {
                stepIndex = (stepIndex + 1) % stepUnits.length;
                activateStep(stepIndex);
            }, 2000);
        }

        function activateStep(i) {
            const unit = stepUnits[i];

            unit.querySelector(".step-img").classList.add("active");
            unit.querySelector(".dot").classList.add("active");
            unit.querySelector(".desc-item").classList.add("active");
        }

    </script>

</body>

</html>